#ifndef syntakischerspalt_H
#define syntakischerspalt_H
const char syntakischerspalt_source[] = R"shader_source(#version 430
layout(location=0)uniform vec2 y;layout(location=0)out vec3 f;layout(location=1)out float v;layout(location=16)uniform float m;layout(location=6)uniform float c;
#define FOCAL_LENGTH
layout(location=2)uniform float d;
#line 1
layout(location=3)uniform vec3 x;layout(location=4)uniform vec4 z;layout(location=5)uniform float r;
#ifndef FOCAL_LENGTH
layout(location=6)uniform float w;
#endif
float n=6.28319;struct Material{vec3 color;float roughness;float metallic;};struct SphereLight{vec3 center;vec3 color;float radius;float intensity;};
#line 4
layout(location=31)uniform vec3 l;layout(location=32)uniform float s;layout(location=33)uniform float i;layout(location=34)uniform float M;layout(location=35)uniform float F;layout(location=36)uniform float e;Material a[2]=Material[2](Material(vec3(1.),.5,0.),Material(l,.7,1.));const float S=0.,o=1.;void t(vec3 x,float l){float z=z,n=w,m=d;v=(l-z)/l*(n*n)/(m*(z-n))/.03*y.x;f=x;}vec3 p(vec3 x,vec4 v){vec3 f=2*cross(v.xyz,x);return x+v.w*f+cross(v.xyz,f);}vec3 p(){vec3 v=normalize(vec3((gl_FragCoord.xy-.5*y)/y.x,-w/.03));return p(v,z);}float h(vec3 v,float y){return length(v)-y;}float h(vec3 v,vec3 x,vec3 f,float y){vec3 l=v-x,z=f-x;float n=clamp(dot(l,z)/dot(z,z),0.,1.);return length(l-z*n)-y;}float u(vec3 v,vec2 y){vec2 f=vec2(length(v.xz)-y.x,v.y);return length(f)-y.y;}float g(vec3 v,vec3 x){return v=abs(v)-x,max(v.x,max(v.y,v.z));}float b(vec2 v,vec2 x){return v=abs(v)-x,max(v.x,v.y);}float L(vec3 v,vec3 y){vec3 f=abs(v)-y;return min(max(f.x,max(f.y,f.z)),0.)+length(max(f,0.));}float L(vec3 v,vec3 f,float y){return L(v,f-y)-y;}float C(vec3 v,vec2 x){float f=length(v.xy);return dot(x,vec2(f,v.z));}float T(vec3 v,vec3 f){return dot(v,f.xyz);}vec2 O(vec2 v,vec2 x){return mix(v,x,float(v.x>x.x));}float C(float v,float f,float x){float y=clamp(.5+.5*(f-v)/x,0.,1.);return mix(f,v,y)-x*y*(1.-y);}vec2 O(vec2 v,vec2 f,float y){return vec2(C(v,f,y),v.x>f.x?f.y:v.y);}vec2 T(vec2 v,vec2 f,float x){float y=clamp(.5+.5*(f-v)/x,0.,1.);return vec2(mix(f.x,v.x,y)-x*y*(1.-y),mix(f.y,v.y,y));}float b(float v,float f,float x){float y=clamp(.5-.5*(f-v)/x,0.,1.);return mix(f,v,y)+x*y*(1.-y);}float N(vec3 v,vec3 y){return max(0.,dot(v,y));}float C(float y){return y*y;}vec3 C(vec3 v,vec3 f,vec3 y,Material x,SphereLight m){vec3 l=m.center-v,z=reflect(-y,f),n=dot(l,z)*z-l,d=l+n*clamp(m.radius/length(n),0.,1.),s=normalize(d);float w=distance(v,m.center),c=acos(-1.);vec3 S=.5*(s+y);float r=dot(f,S),i=N(f,s),M=dot(f,y),o=C(x.roughness),W=C(o),J=C(x.roughness+1.),a=W/(4.*mix(i,1.,J)*mix(M,1.,J)*c*C(C(r)*(W-1.)+1.)),e=clamp(o+m.radius*.5/w,0.,1.),F=W/(e*e),t=dot(y,S),k=exp2((-5.55473*t-6.98316)*t),p=.04+.96*k;vec3 L=x.color+(1.-x.color)*k,Y=.5*(x.color/c+a*p),h=a*L;float U=C(1.-C(C(w/m.radius))),u=clamp(U,0.,1.)/(C(w)+1.);return i*mix(Y,h,x.metallic)*u*m.intensity*m.color*F;}vec3 H(vec3 v,float y){return v*y;}vec3 G(vec3 v,vec3 y){return mod(v,y)-.5*y;}vec3 C(vec3 v,float f,float x,float y){return G(v,vec3(f,x,y));}vec3 E(vec3 v,vec3 y){return v-y;}vec3 E(vec3 v,float f,float x,float y){return E(v,vec3(f,x,y));}mat3 E(float v){return mat3(1.,0.,0.,0.,cos(v),sin(v),0.,-sin(v),cos(v));}mat3 G(float v){return mat3(cos(v),0.,-sin(v),0.,1.,0.,sin(v),0.,cos(v));}mat3 H(float v){return mat3(cos(v),sin(v),0.,-sin(v),cos(v),0.,0.,0.,1.);}mat2 L(float v){return mat2(cos(v),-sin(v),sin(v),cos(v));}float A(float v,float y){const float x=v*y;return x*exp(1.-x);}float A(float y,float v,float f){return clamp((f-y)/(v-y),0.,1.);}float A(float v){return v-floor(v*(1./289.))*289.;}vec2 N(vec2 v){return v-floor(v*(1./289.))*289.;}vec3 O(vec3 v){return v-floor(v*(1./289.))*289.;}vec4 T(vec4 v){return v-floor(v*(1./289.))*289.;}float b(float v){return T((v*34.+1.)*v);}vec2 g(vec2 v){return T((v*34.+1.)*v);}vec3 h(vec3 v){return T((v*34.+1.)*v);}vec4 p(vec4 v){return T((v*34.+1.)*v);}vec4 t(vec4 y){return 1.79284-.853735*y;}vec2 u(vec2 v){return v*v*v*(v*(v*6.-15.)+10.);}vec3 k(vec3 v){return v*v*v*(v*(v*6.-15.)+10.);}float Z(vec2 v){vec4 f=floor(v.xyxy)+vec4(0.,0.,1.,1.),d=fract(v.xyxy)-vec4(0.,0.,1.,1.);f=T(f);vec4 y=f.xzxz,x=f.yyww,m=d.xzxz,n=d.yyww,l=p(p(y)+x),z=fract(l*(1./41.))*2.-1.,s=abs(z)-.5,J=floor(z+.5);z=z-J;vec2 r=vec2(z.x,s.x),w=vec2(z.y,s.y),c=vec2(z.z,s.z),i=vec2(z.w,s.w);vec4 W=t(vec4(dot(r,r),dot(c,c),dot(w,w),dot(i,i)));r*=W.x;c*=W.y;w*=W.z;i*=W.w;float M=dot(r,vec2(m.x,n.x)),o=dot(w,vec2(m.y,n.y)),S=dot(c,vec2(m.z,n.z)),e=dot(i,vec2(m.w,n.w));vec2 F=k(d.xy),Y=mix(vec2(M,S),vec2(o,e),F.x);float L=mix(Y.x,Y.y,F.y);return 2.3*L;}float Y(vec3 v){vec3 f=floor(v),y=f+vec3(1.);f=T(f);y=T(y);vec3 x=fract(v),z=x-vec3(1.);vec4 l=vec4(f.x,y.x,f.x,y.x),n=vec4(f.yy,y.yy),m=f.zzzz,s=y.zzzz,d=p(p(l)+n),W=p(d+m),c=p(d+s),r=W*(1./7.),w=fract(floor(r)*(1./7.))-.5;r=fract(r);vec4 i=vec4(.5)-abs(r)-abs(w),a=step(i,vec4(0.));r-=a*(step(0.,r)-.5);w-=a*(step(0.,w)-.5);vec4 S=c*(1./7.),o=fract(floor(S)*(1./7.))-.5;S=fract(S);vec4 M=vec4(.5)-abs(S)-abs(o),J=step(M,vec4(0.));S-=J*(step(0.,S)-.5);o-=J*(step(0.,o)-.5);vec3 e=vec3(r.x,w.x,i.x),Y=vec3(r.y,w.y,i.y),F=vec3(r.z,w.z,i.z),U=vec3(r.w,w.w,i.w),h=vec3(S.x,o.x,M.x),u=vec3(S.y,o.y,M.y),L=vec3(S.z,o.z,M.z),g=vec3(S.w,o.w,M.w);vec4 O=t(vec4(dot(e,e),dot(F,F),dot(Y,Y),dot(U,U)));e*=O.x;F*=O.y;Y*=O.z;U*=O.w;vec4 N=t(vec4(dot(h,h),dot(L,L),dot(u,u),dot(g,g)));h*=N.x;L*=N.y;u*=N.z;g*=N.w;float G=dot(e,x),b=dot(Y,vec3(z.x,x.yz)),C=dot(F,vec3(x.x,z.y,x.z)),H=dot(U,vec3(z.xy,x.z)),E=dot(h,vec3(x.xy,z.z)),A=dot(u,vec3(z.x,x.y,z.z)),Z=dot(L,vec3(x.x,z.yz)),X=dot(g,z);vec3 V=k(x);vec4 R=mix(vec4(G,b,C,H),vec4(E,A,Z,X),V.z);vec2 Q=mix(R.xy,R.zw,V.y);float P=mix(Q.x,Q.y,V.x);return 2.2*P;}float X(vec2 v){vec2 y=T(v),f=p(y);return fract(p(f.x*f.y+y.x+y.y)/41.)*2.-1.;}float W(vec3 v){vec3 y=T(v),f=p(y);return fract(p(f.x*f.y*f.z+y.x+y.y+y.z)/41.)*2.-1.;}float V(vec2 v){vec2 f=floor(v),y=fract(v),n=vec2(1.,0.);float x=W(f+n.yy),z=W(f+n.yx),w=W(f+n.xy),m=W(f+n.xx);y=k(y);return mix(mix(x,w,y.x),mix(z,m,y.x),y.y);}float U(vec3 v){vec3 f=floor(v),y=fract(v);vec2 x=vec2(1.,0.);float l=W(f+x.yyy),z=W(f+x.yyx),m=W(f+x.yxy),n=W(f+x.yxx),w=W(f+x.xyy),d=W(f+x.xyx),o=W(f+x.xxy),s=W(f+x.xxx);y=k(y);return mix(mix(mix(l,w,y.x),mix(m,o,y.x),y.y),mix(mix(z,d,y.x),mix(n,s,y.x),y.y),y.z);}float R(vec2 v){return(Y(v)+Y(v*2.)*.5+Y(v*4.)*.25)/1.75;}float Q(vec3 v){return(Y(v)+Y(v*2.)*.5+Y(v*4.)*.25)/1.75;}float P(vec2 v){return(U(v)+U(v*2.)*.5+U(v*4.)*.25)/1.75;}float K(vec3 v){return(U(v)+U(v*2.)*.5+U(v*4.)*.25)/1.75;}vec2 J(vec3 v){float f=100.,y=60.;vec3 m=C(v,f,0.,y);m.y=v.y;m.x=abs(m.x);m.z+=5.;m.x-=10*s;float z=h(m,1.);m.x-=2.;float w=h(m,2.);m=H(-n*sin(m.x/5.)/30.)*m;m=G(-n*sin(m.x/2.+r*.2)/50.)*m;float d=h(m,vec3(2.,0.,0.),vec3(20.,0.,0.),mix(i,M,smoothstep(10.*F,10*e,m.x)));vec2 l=vec2(C(b(-z,w,1.),d,1.),o),c=vec2(-h(v-x,500.),S);return O(l,c);}vec3 A(vec3 v,vec3 f,out int x,int y,float z){float m=0.;for(x=0;x<y;x++){float l=J(v)[0]*z;v+=f*l;l=abs(l);m+=l;if(l<.001*m)break;}return v;}vec3 E(vec3 v,vec3 f,out int y){return A(v,f,y,100,1.);}vec3 I(vec3 v){vec2 y=vec2(.001,0.);return normalize(vec3(J(v+y.xyy)[0]-J(v-y.xyy)[0],J(v+y.yxy)[0]-J(v-y.yxy)[0],J(v+y.yyx)[0]-J(v-y.yyx)[0])+1e-09);}float A(vec3 v,vec3 x,float y,float f){float l,z=sign(y);for(l=z*.5+.5;f>0;f--)l-=(f*y-J(v+x*f*y*z)[0])/exp2(f);return l;}void main(){vec3 v=p();int f;vec3 y=A(x,v,f,100,.7),m=vec3(0.);if(f<150){int n=int(J(y).y);vec3 z=I(y);Material w=a[n];m=C(y,z,-v,w,SphereLight(vec3(5.,9.,10.),vec3(1.),2.,100.));}t(m,distance(y,x));})shader_source";
#endif
